"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[379],{5058:function(e,t,n){n.r(t),n.d(t,{OneTap:function(){return f}});var i=n(2903),o=n(2784),c=n(3918),a=n(3476),s=n(3736),l=n(7018),u=n(361),r=n(9286),d=n(8512),p=n(1661),_=n(8150);const h=(0,d.withCardStateProvider)((function(){const e=(0,l.cL)(),t=(0,c.useCoreSignIn)(),{user:n}=(0,l.aF)(),i=(0,c.useEnvironment)(),a=(0,_.H)(),s=(0,c.useGoogleOneTapContext)();async function d(n){try{const i=await t.__experimental_authenticateWithGoogleOneTap({token:n.credential});"complete"===i.status?await e.setActive({session:i.createdSessionId}):(0,u.Ws)(i.status,a)}catch(i){e.openSignIn()}}const h=i.displayConfig.googleOneTapClientId,g=!(null==n?void 0:n.id)&&!!h,{data:f}=(0,p.ib)(g?r.g:void 0,"google-identity-services-script",{onSuccess(e){e.accounts.id.initialize({client_id:h,callback:d,itp_support:!0,cancel_on_tap_outside:s.cancelOnTapOutside,auto_select:!1,use_fedcm_for_prompt:!0}),e.accounts.id.prompt()}});return(0,o.useEffect)((()=>(f&&!(null==n?void 0:n.id)&&f.accounts.id.prompt(),()=>{f&&f.accounts.id.cancel()})),[null==n?void 0:n.id]),null}));function g(){return(0,i.tZ)(s.Route,{path:"one-tap",children:(0,i.tZ)(a.Flow.Root,{flow:"oneTap",children:(0,i.tZ)(s.Switch,{children:(0,i.tZ)(s.Route,{index:!0,children:(0,i.tZ)(h,{})})})})})}g.displayName="OneTap";const f=(0,c.withCoreSessionSwitchGuard)(g)}}]);